// Apply max-width to floated items that have no intrinsic width
// .block-editor-block-list__block[data-type="core/embed"][data-align="left"],
// .block-editor-block-list__block[data-type="core/embed"][data-align="right"],
.wp-block-embed.alignleft,
.wp-block-embed.alignright {
  // Instagram widgets have a min-width of 326px, so go a bit beyond that.
  max-width: 360px;
  width: 100%;
}

.wp-block-embed {
  // Supply caption styles to embeds, even if the theme hasn't opted in.
  // Reason being: the new markup, figcaptions, are not likely to be styled in the majority of existing themes,
  // so we supply the styles so as to not appear broken or unstyled in those.
  // figcaption {
  //   @include caption-style();
  // }
  // The embed block is in a `figure` element, and many themes zero this out.
  // This rule explicitly sets it, to ensure at least some bottom-margin in the flow.
  margin-bottom: 1.5em;

  figcaption {
    margin-top: 0.5em;
  }
}

@if $is-frontend {
  .wp-block-embed__wrapper {
    @include gs-proportional(2, 1);
  }

  .wp-embed-aspect-21-9 .wp-block-embed__wrapper {
    @include gs-proportional(21, 9);
  }

  .wp-embed-aspect-18-9 .wp-block-embed__wrapper {
    @include gs-proportional(18, 9);
  }

  .wp-embed-aspect-16-9 .wp-block-embed__wrapper {
    @include gs-proportional(16, 9);
  }

  .wp-embed-aspect-4-3 .wp-block-embed__wrapper {
    @include gs-proportional(4, 3);
  }

  .wp-embed-aspect-1-1 .wp-block-embed__wrapper {
    @include gs-proportional(1, 1);
  }

  .wp-embed-aspect-9-16 .wp-block-embed__wrapper {
    @include gs-proportional(9, 16);
  }

  .wp-embed-aspect-1-2 .wp-block-embed__wrapper {
    @include gs-proportional(1, 2);
  }
}
